<h2>Parent</h2>

<section class="section-container">
  <h3>With in same component</h3>
  <ng-container
    [ngTemplateOutlet]="messageTemplate"
    [ngTemplateOutletContext]="{ $implicit: '1000' }"
  >
  </ng-container>

  <ng-template let-value #messageTemplate>
    <p>Value Received from the Parent is {{ value }}</p>
  </ng-template>
</section>

<section class="section-container">
  <h3>Passing plain template from parent to child</h3>
  <ng-template #plainParentTemplate>
    <p>
      This Template is defined in Parent. We will send it to child component
    </p>
  </ng-template>
  <app-child [customTemplate]="plainParentTemplate"></app-child>
</section>

<section class="section-container">
  <h3>Content projection from parent to child</h3>
  <app-child>
    <p>Using content projection we are passing data from parent to child</p>
  </app-child>
</section>

<section class="section-container">
  <h3>Display either card or list format</h3>
  <label for="mode">Display mode:</label>
  <select [(ngModel)]="mode">
    <option *ngFor="let row of modeOptions" [ngValue]="row.mode">
      {{ row.mode }}
    </option>
  </select>

  <ng-template let-rowDatas #cardTemplate>
    <div *ngFor="let row of rowDatas">
      <h2>{{ row.header }}</h2>
      <p>{{ row.content }}</p>
    </div>
  </ng-template>

  <ng-template let-rowDatas #listTemplate>
    <ul>
      <li *ngFor="let row of rowDatas">
        <strong>{{ row.header }} </strong> ( {{ row.content }} )
      </li>
    </ul>
  </ng-template>

  <ng-template let-rowDatas #tableTemplate>
    <table style="table">
      <thead>
        <th *ngFor="let col of cols">
          <ng-container *ngIf="col.isVisible">
            {{ col.label }}
          </ng-container>
        </th>
      </thead>

      <tbody>
        <ng-container *ngFor="let row of rowDatas">
          <tr>
            <ng-container *ngFor="let col of cols">
              <ng-container [ngSwitch]="col.componentType">
                <td *ngSwitchCase="'textbox'">
                  <ng-container *ngIf="col.isVisible">
                    <ng-container *ngIf="col.isEditable; else readOnlyMode">
                      <input
                        type="text"
                        [id]="col.identifier"
                        [value]="row[col.identifier]"
                      />
                    </ng-container>
                    <ng-template #readOnlyMode>
                      <ng-container
                        [ngTemplateOutlet]="readonlyColTemplate"
                        [ngTemplateOutletContext]="{
                          $implicit: row[col.identifier],
                          identifier: col.identifier
                        }"
                      ></ng-container>
                    </ng-template>
                  </ng-container>
                </td>
                <td *ngSwitchCase="'options'">
                  <ng-container *ngIf="col.isVisible">
                    <ng-container *ngIf="row[col.identifier]">
                      meatball
                    </ng-container>
                  </ng-container>
                </td>
                <td *ngSwitchDefault>
                  <ng-container
                    [ngTemplateOutlet]="readonlyColTemplate"
                    [ngTemplateOutletContext]="{
                      $implicit: row[col.identifier]
                    }"
                  ></ng-container>
                </td>
                <ng-template #readonlyColTemplate let-rowData>
                  {{ rowData ? rowData : '--' }}
                </ng-template>
              </ng-container>
            </ng-container>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </ng-template>

  <app-child [rowData]="rowDatas" [template]="selectedTemplate"> </app-child>
</section>
